program WebServerConsole;

{$APPTYPE CONSOLE}

{$R *.res}

uses
  System.SysUtils,
  Horse,
  uTituloController in 'controllers\uTituloController.pas',
  uTituloService in 'services\uTituloService.pas',
  uTituloProvider in 'providers\uTituloProvider.pas' {DataModule1: TDataModule};

begin
  try
    { TODO -oUser -cConsole Main : Insert code here }
    THorse.Get('/ping',
      procedure (Req: THorseRequest; Res: THorseResponse; Next: TProc)
      begin
        Res.Send('pong 2');
      end);

    THorse.Listen(9000);

  except
    on E: Exception do
      Writeln(E.ClassName, ': ', E.Message);
  end;
end.
